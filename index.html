<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dokumentasi API BAX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Serif+4:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --white: #FFFFFF;
            --off-white: #F8F9FA;
            --light-blue-gray: #F0F4F8;
            --slate-mid: #64748B;
            --navy-dark: #172554; /* blue-950 */
            --navy-light: #1E3A8A; /* blue-800 */
            --sky-mid: #0284C7; /* sky-600 */
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--off-white);
            color: #334155; /* slate-700 */
        }
        #main-content {
            background: linear-gradient(180deg, var(--white) 0%, var(--light-blue-gray) 100%);
        }
        h1, h2, h3, h4 {
            font-family: 'Source Serif 4', serif;
            color: var(--navy-dark);
        }
        .sidebar {
            background-color: var(--white);
            border-right: 1px solid #E2E8F0; /* slate-200 */
        }
        .sidebar-link {
            display: block;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: all 0.25s ease-in-out;
            font-weight: 500;
            color: #475569; /* slate-600 */
            margin-bottom: 0.5rem;
            position: relative;
            overflow: hidden;
        }
        .sidebar-link:before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background-color: var(--sky-mid);
            transform: scaleY(0);
            transition: transform 0.25s ease-in-out;
        }
        .sidebar-link:hover, .sidebar-link.active {
            background-color: #F0F9FF; /* sky-50 */
            color: var(--sky-mid);
        }
        .sidebar-link.active:before {
            transform: scaleY(1);
        }
        .api-section {
            padding-top: 5rem; /* For scroll spy offset */
            margin-top: -4rem;
            padding-bottom: 2rem;
        }
        .section-separator {
            border-bottom: 1px solid #E2E8F0;
            margin-bottom: 2rem;
        }
        .api-endpoint {
            background-color: var(--white);
            border: 1px solid #E2E8F0; /* slate-200 */
            border-radius: 0.75rem;
            margin-bottom: 2rem;
            overflow: hidden;
            box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            transition: all 0.3s ease;
        }
        .api-endpoint:hover {
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.07);
            transform: translateY(-3px);
            border-color: #D1D5DB;
        }
        .endpoint-header {
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #E2E8F0;
        }
        .endpoint-method {
            font-weight: 700;
            padding: 0.3rem 0.85rem;
            border-radius: 9999px;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .method-post { border: 1px solid #3B82F6; color: #3B82F6; background-color: #EFF6FF; }
        .method-get { border: 1px solid #10B981; color: #10B981; background-color: #F0FDF4; }
        .method-put { border: 1px solid #F59E0B; color: #F59E0B; background-color: #FFFBEB; }
        .method-delete { border: 1px solid #EF4444; color: #EF4444; background-color: #FEF2F2; }
        .endpoint-path {
            font-family: monospace;
            font-size: 1rem;
            color: var(--navy-light);
            font-weight: 600;
            margin-left: 1rem;
        }
        .endpoint-details {
            padding: 1.5rem;
        }
        .details-title {
            font-weight: 600;
            margin-top: 1.25rem;
            margin-bottom: 0.75rem;
            color: var(--navy-light);
            font-size: 1.1rem;
            font-family: 'Inter', sans-serif;
        }
        pre {
            background-color: #020617; /* black */
            color: #E2E8F0; /* slate-200 */
            padding: 1.25rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            border: 1px solid #1E293B; /* slate-800 */
        }
        code {
            background-color: #e2e8f0;
            color: #1e293b;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.9em;
        }
        .badge {
            display: inline-block;
            padding: 0.25em 0.6em;
            font-size: 75%;
            font-weight: 700;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: 0.375rem;
        }
        .badge-admin { background-color: #FEF9C3; color: #713F12; }
        .badge-super-admin { background-color: #FEE2E2; color: #991B1B; }
        .badge-user { background-color: #DBEAFE; color: #1E40AF; }
        
        #download-pdf {
            background: linear-gradient(45deg, #2563EB, #0284C7);
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 15px 0 rgba(59, 130, 246, 0.4);
        }
        #download-pdf:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 7px 20px 0 rgba(59, 130, 246, 0.5);
        }
    </style>
</head>
<body class="text-slate-700">
    <div class="flex">
        <!-- Sidebar Navigation -->
        <aside class="w-72 h-screen fixed top-0 left-0 p-6 sidebar hidden lg:block">
            <div class="flex items-center mb-8">
                <div class="w-10 h-10 bg-navy-dark rounded-lg flex items-center justify-center font-bold text-white text-xl mr-3">B</div>
                <h2 class="text-2xl font-bold text-navy-dark">BAX API</h2>
            </div>
            <nav>
                <a href="#auth" class="sidebar-link active">Authentication</a>
                <a href="#news" class="sidebar-link">News</a>
                <a href="#users" class="sidebar-link">Users</a>
                <a href="#admin-users" class="sidebar-link">Admin: Users</a>
                <a href="#youtube" class="sidebar-link">YouTube Links</a>
                <a href="#projects" class="sidebar-link">Projects</a>
                <a href="#submissions" class="sidebar-link">Submissions</a>
                <a href="#withdrawals" class="sidebar-link">Withdrawals</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <div id="main-content" class="flex-1 lg:ml-72">
            <div id="content" class="container mx-auto px-4 sm:px-6 lg:px-12 py-12">
                <header class="flex justify-between items-center mb-12 border-b border-slate-200 pb-8">
                    <div>
                        <h1 class="text-5xl font-bold">Dokumentasi API</h1>
                        <p class="mt-2 text-lg text-slate-500">Panduan lengkap untuk integrasi dengan BAX API.</p>
                    </div>
                    <button id="download-pdf" class="text-white font-semibold py-3 px-6 rounded-lg whitespace-nowrap">
                        Unduh PDF
                    </button>
                </header>

                <main>
                    <!-- Authentication Section -->
                    <section id="auth" class="api-section">
                        <h2 class="text-3xl font-semibold mb-4">Authentication</h2>
                        <p class="mb-8 text-slate-500 max-w-3xl">Endpoint untuk registrasi, login, dan manajemen token pengguna. Pastikan untuk menangani token JWT dengan aman di sisi klien.</p>
                        <div class="section-separator"></div>
                        
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-post">POST</span><span class="endpoint-path">/api/auth/register</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Mendaftarkan pengguna baru.</p>
                                <h4 class="details-title">Request Body</h4><pre><code>{
    "nama": "string (required)",
    "email": "string (required, unique)",
    "password": "string (required)",
    "tglLahir": "string (date, optional)",
    "nomorTelepon": "string (optional)",
    "kecamatan": "string (optional)",
    "domisili": "string (optional)",
    "fotoKtp": "string (url, optional)",
    "bankName": "string (optional)",
    "noRekening": "string (optional)",
    "kodeReferralUpline": "string (optional)"
}</code></pre>
                                <h4 class="details-title">Response (201)</h4><pre><code>{
    "id": "integer",
    "nama": "string",
    "email": "string",
    "kodeReferral": "string"
}</code></pre>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-post">POST</span><span class="endpoint-path">/api/auth/login</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Login pengguna dan mengembalikan JWT access token.</p>
                                <h4 class="details-title">Request Body</h4><pre><code>{
    "email": "string (required)",
    "password": "string (required)"
}</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{
    "id": "integer",
    "nama": "string",
    "email": "string",
    // ... other user fields
    "accessToken": "string (JWT)"
}</code></pre>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/auth/check-token</span></div>
                                <span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Memverifikasi token pengguna saat ini dan mengembalikan data pengguna.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{
    "accessToken": "string (JWT)",
    "user": {
        "id": "integer",
        "nama": "string",
        "email": "string",
        // ... other user data excluding sensitive fields
    }
}</code></pre>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-post">POST</span><span class="endpoint-path">/api/auth/logout</span></div>
                                <span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Logout pengguna (saat ini hanya mengembalikan pesan sukses).</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{ "message": "Logout berhasil, sultan konyol wkwkwk." }</code></pre>
                            </div>
                        </div>
                    </section>
                    
                    <!-- News Section -->
                    <section id="news" class="api-section">
                        <h2 class="text-3xl font-semibold mb-4">News</h2>
                        <p class="mb-8 text-slate-500 max-w-3xl">CRUD untuk manajemen berita dan informasi. Endpoint ini digunakan untuk menampilkan dan mengelola konten berita.</p>
                        <div class="section-separator"></div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/news</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil daftar semua item berita, diurutkan berdasarkan tanggal pembuatan.</p>
                                <h4 class="details-title">Response (200)</h4><pre><code>[
    {
        "id": "integer",
        "imageNews": "string (url)",
        "description": "string",
        "newsUrl": "string (url)",
        "imageNewsUrl": "string (url)",
        "tglDibuat": "datetime"
    }
]</code></pre>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-post">POST</span><span class="endpoint-path">/api/admin/news/submit</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Membuat item berita baru. Membutuhkan multipart/form-data untuk unggah gambar.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body (form-data)</h4><pre><code>imageNews: file (required)
description: string
newsUrl: string
imageNewsUrl: string</code></pre>
                                <h4 class="details-title">Response (201)</h4><p>Mengembalikan objek berita yang baru dibuat.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/admin/news/update/:id</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Memperbarui item berita yang ada. Membutuhkan multipart/form-data jika gambar diperbarui.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body (form-data)</h4><pre><code>imageNews: file (optional)
description: string
newsUrl: string
imageNewsUrl: string</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan objek berita yang telah diperbarui.</p>
                            </div>
                        </div>
                    </section>

                    <!-- User Section -->
                    <section id="users" class="api-section">
                        <h2 class="text-3xl font-semibold mb-4">Users</h2>
                        <p class="mb-8 text-slate-500 max-w-3xl">Endpoint yang berkaitan dengan data pengguna yang sedang login, seperti profil, downline, dan penarikan dana.</p>
                        <div class="section-separator"></div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/users/me</span></div><span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil profil pengguna yang sedang terotentikasi.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{
    "profile": {
        "id": "integer",
        "nama": "string",
        // ... other user fields
        "totalDownlines": "integer",
        "totalSubmissions": "integer"
    }
}</code></pre>
                            </div>
                        </div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/users/downline/:id</span></div><span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil pengguna downline untuk ID pengguna tertentu dengan paginasi.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Query Parameters</h4><pre><code>page: integer (optional, default: 1)
perPage: integer (optional, default: 10)</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{
    "pagination": {
        "totalItems": "integer",
        "totalPages": "integer",
        "perPage": "integer",
        "currentPage": "integer"
    },
    "data": [
        {
            "id": "integer",
            "nama": "string",
            "email": "string"
        }
    ]
}</code></pre>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/users/me</span></div><span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Memperbarui profil pengguna yang sedang terotentikasi.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body</h4><pre><code>{
    "nama": "string (optional)",
    "password": "string (optional, min 6 chars)",
    "nomorTelepon": "string (optional)",
    "kecamatan": "string (optional)",
    "domisili": "string (optional)",
    "tglLahir": "string (date, optional)"
}</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan objek pengguna yang diperbarui dengan field yang dipilih.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/users/me/picture</span></div><span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Memperbarui foto profil pengguna yang sedang terotentikasi.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body (form-data)</h4><pre><code>picture: file (required)</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{
    "message": "Foto profil berhasil diperbarui.",
    "pictureUrl": "string (url)"
}</code></pre>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-post">POST</span><span class="endpoint-path">/api/users/me/withdrawals</span></div><span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengajukan permintaan penarikan dana dari saldo pengguna. Permintaan akan masuk ke status 'PENDING' untuk disetujui oleh Super Admin.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body</h4><pre><code>{
    "totalWithdrawal": "decimal (required)"
}</code></pre>
                                <h4 class="details-title">Response (201)</h4><pre><code>{
    "message": "Permintaan penarikan berhasil diajukan dan akan segera diproses.",
    "withdrawal": {
        "id": "integer",
        "userId": "integer",
        "totalWithdrawal": "decimal",
        "status": "PENDING",
        "tglDiajukan": "datetime",
        "tglDiproses": null
    }
}</code></pre>
                            </div>
                        </div>
                    </section>

                    <!-- Admin User Management -->
                    <section id="admin-users" class="api-section">
                        <h2 class="text-3xl font-semibold mb-4">Admin: User Management</h2>
                        <p class="mb-8 text-slate-500 max-w-3xl">Endpoint khusus admin untuk mengelola semua pengguna dalam sistem, termasuk persetujuan registrasi.</p>
                        <div class="section-separator"></div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/admin/users</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil daftar semua pengguna dengan paginasi. Dapat difilter berdasarkan status registrasi.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Query Parameters</h4><pre><code>status: string (optional, PENDING | APPROVED | REJECTED)
page: integer (optional, default: 1)
pageSize: integer (optional, default: 10)</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan daftar objek pengguna dengan paginasi.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/admin/users/:id</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Memperbarui detail pengguna tertentu.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body</h4><pre><code>{
    "nama": "string",
    "email": "string",
    "role": "string (USER | ADMIN | SUPER_ADMIN)",
    "balance": "decimal (SUPER_ADMIN only)",
    "bankName": "string",
    "noRekening": "string",
    "nomorTelepon": "string"
}</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan objek pengguna yang telah diperbarui secara lengkap.</p>
                            </div>
                        </div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/admin/users/:id/approve</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Menyetujui registrasi pengguna.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{ "message": "Registrasi user berhasil disetujui.", "user": { ...userObject } }</code></pre>
                            </div>
                        </div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/admin/users/:id/reject</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Menolak registrasi pengguna.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{ "message": "Registrasi user berhasil ditolak.", "user": { ...userObject } }</code></pre>
                            </div>
                        </div>
                    </section>
                    
                    <!-- YouTube Section -->
                    <section id="youtube" class="api-section">
                        <h2 class="text-3xl font-semibold mb-4">YouTube Links</h2>
                        <p class="mb-8 text-slate-500 max-w-3xl">Manajemen link YouTube yang ditampilkan di aplikasi, termasuk riwayat perubahan.</p>
                        <div class="section-separator"></div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/youtube</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil entri link YouTube saat ini.</p>
                                <h4 class="details-title">Response (200)</h4><pre><code>[
    {
        "id": "integer",
        "urlYoutube": "string",
        "tglDibuat": "datetime",
        "creatorId": "integer",
        "creator": { "nama": "string" }
    }
]</code></pre>
                            </div>
                        </div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-post">POST</span><span class="endpoint-path">/api/admin/youtube</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Menetapkan link YouTube baru. Ini akan mengarsipkan link lama dan menghapusnya dari tabel utama.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body</h4><pre><code>{ "urlYoutube": "string (required)" }</code></pre>
                                <h4 class="details-title">Response (201)</h4><p>Mengembalikan objek link YouTube yang baru dibuat.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/admin/youtube/:id</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Memperbarui link YouTube yang ada dan mengarsipkan versi sebelumnya.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body</h4><pre><code>{ "urlYoutube": "string (required)" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan objek link YouTube yang diperbarui.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/admin/history-youtube-apps</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil riwayat semua link YouTube sebelumnya dengan paginasi.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Query Parameters</h4><pre><code>page: integer (optional, default: 1)
pageSize: integer (optional, default: 20)</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan daftar objek link YouTube historis dengan paginasi.</p>
                            </div>
                        </div>
                    </section>

                    <!-- Projects Section -->
                    <section id="projects" class="api-section">
                        <h2 class="text-3xl font-semibold mb-4">Projects</h2>
                        <p class="mb-8 text-slate-500 max-w-3xl">Manajemen proyek yang tersedia untuk dikerjakan oleh pengguna.</p>
                        <div class="section-separator"></div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/projects</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil daftar semua proyek yang tersedia dengan paginasi.</p>
                                <h4 class="details-title">Query Parameters</h4><pre><code>page: integer (optional, default: 1)
pageSize: integer (optional, default: 10)</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan daftar objek proyek dengan paginasi, termasuk field-fieldnya.</p>
                            </div>
                        </div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-post">POST</span><span class="endpoint-path">/api/admin/projects</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Membuat proyek baru beserta field-field terkait.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body</h4><pre><code>{
    "namaProyek": "string (required)",
    "iconUrl": "string (optional)",
    "projectUrl": "string (optional)",
    "nilaiProyek": "decimal (required)",
    "deskripsi": "string (optional)",
    "category": "string (optional)",
    "fields": [
        {
            "label": "string",
            "fieldType": "string (e.g., TEXT, FILE)",
            "isRequired": "boolean"
        }
    ]
}</code></pre>
                                <h4 class="details-title">Response (201)</h4><p>Mengembalikan objek proyek yang baru dibuat, termasuk field-fieldnya.</p>
                            </div>
                        </div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/admin/projects/:id</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Memperbarui proyek yang ada. Ini akan menghapus dan membuat ulang semua field terkait.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body</h4><p>Sama seperti request body POST.</p>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan objek proyek yang diperbarui.</p>
                            </div>
                        </div>
                         <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-delete">DELETE</span><span class="endpoint-path">/api/admin/projects/:id</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Menghapus proyek dan semua data terkait (field, submission, dll.).</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{ "message": "Proyek berhasil dihapus." }</code></pre>
                            </div>
                        </div>
                    </section>

                    <!-- Submissions Section -->
                    <section id="submissions" class="api-section">
                        <h2 class="text-3xl font-semibold mb-4">Submissions</h2>
                        <p class="mb-8 text-slate-500 max-w-3xl">Endpoint untuk pengiriman dan peninjauan pengerjaan proyek oleh pengguna dan admin.</p>
                        <div class="section-separator"></div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-post">POST</span><span class="endpoint-path">/api/projects/:projectId/submit</span></div><span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengirimkan data pengguna untuk proyek tertentu. Membutuhkan multipart/form-data.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body (form-data)</h4>
                                <p>Key harus berupa `projectFieldId` untuk proyek tersebut. Value adalah input pengguna atau file yang diunggah.</p>
                                <pre><code>// Contoh
"123": "Teks input pengguna", // di mana "123" adalah projectFieldId
"124": file,              // di mana "124" adalah projectFieldId tipe FILE</code></pre>
                                <h4 class="details-title">Response (201)</h4><pre><code>{ "message": "Pengerjaan berhasil dikirim.", "submission": { ...submissionObject } }</code></pre>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/users/me/submissions</span></div><span class="badge badge-user">User Auth</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil daftar submission dengan paginasi untuk pengguna yang sedang terotentikasi.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Query Parameters</h4><pre><code>page: integer (optional, default: 1)
perPage: integer (optional, default: 10)</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan daftar submission pengguna dengan detail proyek dan paginasi.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/admin/submissions</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil daftar semua submission dengan paginasi. Dapat difilter berdasarkan status.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Query Parameters</h4><pre><code>status: string (optional, PENDING | APPROVED | REJECTED)
page: integer (optional, default: 1)
pageSize: integer (optional, default: 10)</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan daftar semua submission dengan paginasi.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/admin/submissions/:id</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil detail lengkap dari satu submission, termasuk semua nilai yang dikirimkan.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan objek submission yang terperinci.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/admin/submissions/:id/approve</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Menyetujui submission. Ini akan memicu pembayaran kepada pengguna, upline mereka, dan akun operasional.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{ "message": "Submission ID ... berhasil disetujui.", "submission": { ...submissionObject } }</code></pre>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/admin/submissions/:id/reject</span></div>
                                <div><span class="badge badge-admin">ADMIN</span> <span class="badge badge-super-admin">SUPER ADMIN</span></div>
                            </div>
                            <div class="endpoint-details">
                                <p>Menolak submission dan menambahkan catatan admin.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Request Body</h4><pre><code>{ "catatanAdmin": "string (optional)" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{ "message": "Submission berhasil ditolak.", "submission": { ...submissionObject } }</code></pre>
                            </div>
                        </div>
                    </section>
                    
                    <!-- Withdrawals Section -->
                    <section id="withdrawals" class="api-section">
                        <h2 class="text-3xl font-semibold mb-4">Withdrawals</h2>
                        <p class="mb-8 text-slate-500 max-w-3xl">Endpoint Super Admin untuk mengelola permintaan penarikan dana oleh pengguna.</p>
                        <div class="section-separator"></div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-get">GET</span><span class="endpoint-path">/api/superadmin/withdrawals</span></div><span class="badge badge-super-admin">SUPER ADMIN</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Mengambil semua permintaan penarikan. Dapat difilter berdasarkan status.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Query Parameters</h4><pre><code>status: string (optional, PENDING | APPROVED | REJECTED)</code></pre>
                                <h4 class="details-title">Response (200)</h4><p>Mengembalikan daftar objek penarikan.</p>
                            </div>
                        </div>
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <div><span class="endpoint-method method-put">PUT</span><span class="endpoint-path">/api/superadmin/withdrawals/:id/approve</span></div><span class="badge badge-super-admin">SUPER ADMIN</span>
                            </div>
                            <div class="endpoint-details">
                                <p>Menyetujui permintaan penarikan, mengurangi jumlah dari saldo pengguna, dan membuat catatan transaksi.</p>
                                <h4 class="details-title">Headers</h4><pre><code>{ "Authorization": "Bearer YOUR_JWT_TOKEN" }</code></pre>
                                <h4 class="details-title">Response (200)</h4><pre><code>{ "message": "Permintaan penarikan berhasil disetujui." }</code></pre>
                            </div>
                        </div>
                    </section>
                </main>
            </div>
        </div>
    </div>

    <script>
        // Script untuk unduh PDF
        document.getElementById('download-pdf').addEventListener('click', () => {
            const { jsPDF } = window.jspdf;
            const mainContent = document.getElementById('main-content');
            const button = document.getElementById('download-pdf');
            
            button.style.visibility = 'hidden'; // Sembunyikan tombol

            html2canvas(mainContent, {
                scale: 2,
                useCORS: true,
                backgroundColor: null // Gunakan background dari elemen
            }).then(canvas => {
                button.style.visibility = 'visible'; // Tampilkan kembali

                const imgData = canvas.toDataURL('image/png');
                const pdf = new jsPDF({
                    orientation: 'p',
                    unit: 'px',
                    format: [canvas.width, canvas.height]
                });
                pdf.addImage(imgData, 'PNG', 0, 0, canvas.width, canvas.height);
                pdf.save('bax-api-documentation.pdf');
            }).catch(err => {
                button.style.visibility = 'visible';
                console.error("Gagal membuat PDF:", err);
                alert("Tidak dapat membuat PDF. Lihat konsol untuk detail.");
            });
        });

        // Script untuk 'scroll spy' pada sidebar
        window.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('aside nav a');

            const activateLink = (id) => {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${id}`) {
                        link.classList.add('active');
                    }
                });
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        activateLink(entry.target.id);
                    }
                });
            }, { rootMargin: "0px 0px -60% 0px" });

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>
